{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixebay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', { \n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n });\n\nexport const renderFunc = (data) => {\n    const imgCont = document.querySelector('.images__cont');\n    let renderedHtml = '';\n\n    data.hits.map(el => {\n        renderedHtml += `<a href=\"${el.largeImageURL}\" class=\"imagecont\">\n        <div class=\"imagephoto\">\n            <img src=\"${el.webformatURL}\" alt=\"${el.tags}\">\n        </div>\n        <span class=\"imageinfo\">\n            <span>\n                <span>Likes</span><span>${el.likes}</span>\n            </span>\n            <span>\n                <span>Views</span><span>${el.views}</span>\n            </span>\n            <span>\n                <span>Comments</span><span>${el.comments}</span>\n            </span>\n            <span>\n                <span>Downloads</span><span>${el.downloads}</span>\n            </span>\n        </span>\n    </a>`\n    });\n\n    imgCont.innerHTML = renderedHtml;\n    lightbox.refresh();\n}","import {renderFunc} from \"./render-functions\";\n\nexport const pixebayApi = (word, iziToast) => {\n    const imgCont = document.querySelector('.images__cont');\n\n    imgCont.innerHTML = '<span class=\"loader\"></span>';\n\n\n    const URL = 'https://pixabay.com/api/';\n\n    const options = {\n        method: \"GET\"\n    };\n    \n    const searchParams = new URLSearchParams({\n        key: '42320940-042fd388efe736bb4087979b1',\n        q: word,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    const paramsUrl = `${URL}?${searchParams}`;\n    \n    fetch(paramsUrl, options)\n    .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if(data.total === 0) {\n            imgCont.innerHTML = '';\n            iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                backgroundColor: 'red',\n                messageColor: 'white',\n                theme: 'dark',\n                iconUrl: '/goit-js-hw-11/assets/error.svg'\n            });\n        } else {\n            renderFunc(data);\n        } \n      })\n      .catch(error => {\n        imgCont.innerHTML = '';\n        iziToast.show({\n            message: error,\n            position: 'topRight',\n            backgroundColor: 'red',\n            messageColor: 'white',\n            theme: 'dark',\n            iconUrl: '/goit-js-hw-11/assets/error.svg'\n        });\n    });\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport {pixebayApi} from \"./js/pixebay-api\";\n\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const target = e.target;\n    const word = target.elements.field.value;\n\n    if(!word) { \n        iziToast.show({\n            message: 'Please, fill an input',\n            position: 'topRight',\n            backgroundColor: 'red',\n            messageColor: 'white',\n            theme: 'dark',\n            iconUrl: '/goit-js-hw-11/assets/error.svg'\n        });\n    } else { \n        pixebayApi(word, iziToast);\n\n        target.reset();\n    }\n});\n\n\n"],"names":["lightbox","SimpleLightbox","renderFunc","data","imgCont","renderedHtml","el","pixebayApi","word","iziToast","URL","options","searchParams","paramsUrl","response","error","form","e","target"],"mappings":"6vBAIA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAE,EAEWC,EAAcC,GAAS,CAChC,MAAMC,EAAU,SAAS,cAAc,eAAe,EACtD,IAAIC,EAAe,GAEnBF,EAAK,KAAK,IAAIG,GAAM,CAChBD,GAAgB,YAAYC,EAAG;AAAA;AAAA,wBAEfA,EAAG,sBAAsBA,EAAG;AAAA;AAAA;AAAA;AAAA,0CAIVA,EAAG;AAAA;AAAA;AAAA,0CAGHA,EAAG;AAAA;AAAA;AAAA,6CAGAA,EAAG;AAAA;AAAA;AAAA,8CAGFA,EAAG;AAAA;AAAA;AAAA,SAIjD,CAAK,EAEDF,EAAQ,UAAYC,EACpBL,EAAS,QAAO,CACpB,ECvCaO,EAAa,CAACC,EAAMC,IAAa,CAC1C,MAAML,EAAU,SAAS,cAAc,eAAe,EAEtDA,EAAQ,UAAY,+BAGpB,MAAMM,EAAM,2BAENC,EAAU,CACZ,OAAQ,KAChB,EAEUC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEKK,EAAY,GAAGH,KAAOE,IAE5B,MAAMC,EAAWF,CAAO,EACvB,KAAKG,GAAY,CACd,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKX,GAAQ,CACTA,EAAK,QAAU,GACdC,EAAQ,UAAY,GACpBK,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,gBAAiB,MACjB,aAAc,QACd,MAAO,OACP,QAAS,iCACzB,CAAa,GAEDP,EAAWC,CAAI,CAE3B,CAAO,EACA,MAAMY,GAAS,CACdX,EAAQ,UAAY,GACpBK,EAAS,KAAK,CACV,QAASM,EACT,SAAU,WACV,gBAAiB,MACjB,aAAc,QACd,MAAO,OACP,QAAS,iCACrB,CAAS,CACT,CAAK,CACL,ECnDMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAK,CACjCA,EAAE,eAAc,EAEhB,MAAMC,EAASD,EAAE,OACXT,EAAOU,EAAO,SAAS,MAAM,MAE/BV,GAUAD,EAAWC,EAAMC,CAAQ,EAEzBS,EAAO,MAAK,GAXZT,EAAS,KAAK,CACV,QAAS,wBACT,SAAU,WACV,gBAAiB,MACjB,aAAc,QACd,MAAO,OACP,QAAS,iCACrB,CAAS,CAMT,CAAC"}